# =============================================================================
# PRODUCTION CONFIGURATION (.env.example)
# Optimized for budget cloud instances (2-4 vCPU, 2-4GB RAM, ~$20-40/month)
# =============================================================================

# -----------------------------------------------------------------------------
# Worker Thread Configuration
# Lower thread counts to reduce memory and CPU pressure
# -----------------------------------------------------------------------------
CHARACTER_SYNC_THREADS=2
PVP_SYNC_THREADS=2
PVP_PROCESSING_THREADS=2
DEFAULT_THREADS=2

# -----------------------------------------------------------------------------
# Batch Processing Configuration
# Smaller batches = less memory usage, more predictable performance
# -----------------------------------------------------------------------------
PVP_SYNC_BATCH_PARALLELISM=2
PVP_PROCESSING_BATCH_PARALLELISM=2
DISPATCHER_BATCH_SIZE=50

# -----------------------------------------------------------------------------
# API & Sync Configuration
# Conservative defaults for rate limiting and resource usage
# -----------------------------------------------------------------------------
PVP_SYNC_CONCURRENCY=5
PVP_SYNC_BATCH_SIZE=50
PVP_PROCESSING_CONCURRENCY=4

# -----------------------------------------------------------------------------
# Database Configuration
# Pool size should be >= total worker threads across all queues
# -----------------------------------------------------------------------------
DB_POOL=20

# -----------------------------------------------------------------------------
# Equipment Processing
# Skip re-processing entries processed within this TTL (hours)
# -----------------------------------------------------------------------------
EQUIPMENT_PROCESS_TTL_HOURS=1

# -----------------------------------------------------------------------------
# Rails Configuration
# -----------------------------------------------------------------------------
RAILS_MAX_THREADS=3
RAILS_ENV=production
